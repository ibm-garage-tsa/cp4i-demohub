{"componentChunkName":"component---src-pages-cp-4-i-install-index-mdx","path":"/cp4i-install/","result":{"pageContext":{"frontmatter":{"title":"Installing Cloud Pak for Integration using Operators"},"relativePagePath":"/cp4i-install/index.mdx","titleType":"page","MdxNode":{"id":"78f3c554-aafb-540b-a965-bcf97da5244d","children":[],"parent":"a1b72f8b-ccb6-5686-92b6-d1383ebb8ad6","internal":{"content":"---\ntitle: Installing Cloud Pak for Integration using Operators\n---\n\nThe installation of IBM Cloud Pak for Integration (CP4I) is simplified\nwith Operators support starting from release 2020.2.1. The IBM Cloud Pak\nfor Integration can be installed by adding the IBM Operator Catalog and\nthe IBM Common Services Catalog to your cluster and using the Operator\nLifecycle Manager (OLM) to install the operators. You can then deploy\nthe CP4I capabilities and runtimes using Platform Navigator or Operator\nHub.\n\nThe following instructions apply to CP4I on all supported platforms\nincluding IBM Cloud, AWS, Azure, and on-prem.\n\n<AnchorLinks>\n  <AnchorLink>Prerequisites</AnchorLink>\n  <AnchorLink>OLM Catalog Sources</AnchorLink>\n  <AnchorLink>Install Platform Navigator</AnchorLink>\n  <AnchorLink>Installing Capabilities and Runtimes</AnchorLink>\n  <AnchorLink>Post installation steps</AnchorLink>\n</AnchorLinks>\n\n## Prerequisites \n\n - OpenShift cluster 4.4.9 or higher\n - Administrator access to Openshift console\n - IBM Entitlement Registry Key\n - Minimum 3 worker nodes with 16 cores and 32gb memory, block and file\n    storage access\n - oc command line tool\n\n## OLM Catalog Sources \n\n\\1.  Login to your OpenShift cluster using userid and password or token.\n    You must be a cluster administrator to add CatalogSource objects to\n    a cluster. You can obtain OpenShift\n\n    ![](images/tutorial_html_2e43fe0eb354ddda.png)\n\n    The login command using a token looks like below (your token and cluster\n    address will be different)\n\n```\noc login --token=19P1E8JTTT307A4DpncdR-WNYTCCeTF0OiPFx5UJirw\n--server=https://c104-e.us-east.containers.cloud.ibm.com:30339\n```\n2. Add the IBM Common Services operators to the list of installable\n    operators by running the following command:\n\n```\noc apply -f - << EOF\napiVersion: operators.coreos.com/v1alpha1\nkind: CatalogSource\nmetadata:\n  name: opencloud-operators\n  namespace: openshift-marketplace\nspec:\n  displayName: IBMCS Operators\n  publisher: IBM        \n  sourceType: grpc\n  image: docker.io/ibmcom/ibm-common-service-catalog:latest\n  updateStrategy:\n    registryPoll:\n      interval: 45m\nEOF\n```\n\n3. Add the IBM operators to the list of installable operators by\n    running the following command:\n```\noc apply -f - << EOF\napiVersion: operators.coreos.com/v1alpha1\nkind: CatalogSource\nmetadata:\n  name: ibm-operator-catalog\n  namespace: openshift-marketplace\nspec:\n  displayName: ibm-operator-catalog \n  publisher: IBM Content\n  sourceType: grpc\n  image: docker.io/ibmcom/ibm-operator-catalog\n  updateStrategy:\n    registryPoll:\n      interval: 45m\nEOF\n```\n\n## Install Platform Navigator \n\n\n1. Get your entitlement key from the [Container\n    Library](https://myibm.ibm.com/products-services/containerlibrary)\n\n2. Create a namespace for Platform Navigator\n\n```\noc new-project cp4i\n```\n3.  Create an entitlement secret using the entitlement key from step-1.\n\n```\noc create secret docker-registry ibm-entitlement-key \\\n    --docker-username=cp \\\n    --docker-password=<entitlement-key> \\\n    --docker-server=cp.icr.io \\\n    --namespace=<target namespace>\n```\n\n4.  Deply Platform Navigator using the Red Hat OpenShift web console. Go\n    to OperarorHub and look for Platform Navigator\n\n    ![](images/tutorial_html_f2a37c17b4133251.png)\n\n5.  Select Install to install Platform Navigator.\n\n    ![](images/tutorial_html_a4e2c82e2c70f39c.png)\n\n6.  Add Operator Subscription. The new subscription can be added for a\n    specific namespace or all namespaces. Select cp4i for namesace.\n\n    ![](images/tutorial_html_18e1412b3c9fb509.png)\n\n7.  When you add Platform Navigator, Deployment Lifecycle Manager and\n    Common Services Operators are also installed. Select Platform\n    Navigator to create an instance.\n\n    ![](images/tutorial_html_9ef1a0066bc419c8.png)\n\n8.  Click on Create Platform Navigator to create an instance.\n\n    ![](images/tutorial_html_eceebe3d26810729.png)\n\n9.  Accept license and select Create.\n\n    ![](images/tutorial_html_3eb02207706873.png)\n\n10. When platform navigator and dependent services are successfully\n    installed. You can obtain admin password by running the following\n    command.\n\n```\noc get secrets -n ibm-common-services platform-auth-idp-credentials -ojsonpath='{.data.admin_password}' | base64 --decode && echo \"\" \n```\n\nYou can get the login URI for Platform Navigator using the following\ncommand:\n\n```\noc get route -n cp4i -ojsonpath='{.items[0].spec.host}'\n```\n\n11. Open the URI in a browser and login using admin and \\<password\\>\n    using Default authentication option.\n\n    ![](images/tutorial_html_cf798b43ee903b02.png)\n\n    ![](images/tutorial_html_6118328489008c1e.png)\n\n## Installing Capabilities and Runtimes \n\n1.  Initially when Platform Navigator is installed the Capabilities and\n    Runtimes will be blank. You can add Cloud Pak capabilities and\n    Runtimes using Plaform Navigator or Openshift web console..\n\n    ![](images/tutorial_html_153a9d62568c2653.png)\n\n    Make sure you subscribe to the capabilities from Operator Hub prior to\n    creating instances, otherwise you will see a message similar to below.\n\n    ![](images/tutorial_html_c51e95c4349324e9.png)\n\n2.  Add Operations Dashboard capability\n\n    ![](images/tutorial_html_f109e1ca9a249130.png)\n\n    ![](images/tutorial_html_f1cd021813a91d85.png)\n\n    ![](images/tutorial_html_ce63597305b72024.png)\n\n    ![](images/tutorial_html_1718e538fab19667.png)\n\n    ![](images/tutorial_html_479612f9fcbd9dd5.png)\n\n3.  Add Asset Repository capability\n\n    ![](images/tutorial_html_ba86ece4ad72a9eb.png)\n\n    ![](images/tutorial_html_79ed45052e2dfb4.png)\n\n    ![](images/tutorial_html_addfbe7477948a6d.png)\n\n4.  Add App Connect Dashboard capability\n\n    ![](images/tutorial_html_df6dd892fe99414e.png)\n\n    ![](images/tutorial_html_4c1641cf21c45572.png)\n\n    ![](images/tutorial_html_b9bdf47f775de865.png)\n\n5.  Add AppConnect Designer capability\n\n    ![](images/tutorial_html_6aae3b3402ea6f61.png)\n\n    ![](images/tutorial_html_b1d3acd907b6c25d.png)\n\n    ![](images/tutorial_html_c0905665a46852b.png)\n\n    ![](images/tutorial_html_2f05450267c40128.png)\n\n6.  Add API Connect capability\n\n    ![](images/tutorial_html_d3ed2953a5a9e5f4.png)\n\n    ![](images/tutorial_html_1abfe6c4d96ed38e.png)\n\n    ![](images/tutorial_html_f86a9f552f66f16d.png)\n\n7.  Select Runtimes tab and add EventStreams runtime by selecting Kafka\n    cluster\n\n    ![](images/tutorial_html_93c4b6177464a875.png)\n\n    ![](images/tutorial_html_7e5bf6329a90c763.png)\n\n8.  Add an MQ Queue Manager runtime. Select Availability type, Tracing,\n    Persistence as needed. Choose default values for quick installation.\n\n    ![](images/tutorial_html_a69ebb8a2537f6fe.png)\n\n    ![](images/tutorial_html_5b4663c2a4c790cf.png)\n\n    ![](images/tutorial_html_73ab4241512c55da.png)\n\n9.  Add highspeed file transfer capability\n\n    ![](images/tutorial_html_d96ef3586f62d582.png)\n\n    ![](images/tutorial_html_b93e5b10339b08f0.png)\n\n    ![](images/tutorial_html_487ac9f78f0b0632.png)\n\n    ![](images/tutorial_html_aa7f7f5268a287f5.png)\n\n10. When all the capabilities and runtimes are installed, the Cloud Pak\n    web console menu displays the instances (the name of you instances\n    may be different from what is shown here).\n\n    ![](images/tutorial_html_2a4b49c2cfb34f50.png)\n\n## Post installation steps \n\n\nThe following additional steps are needed after deploying all the\ncapabilities.\n\n1.  If you enabled Tracing capabilities for API Connect and MQ,\n    capabilities must be registered from Operations Dashbard Setting\n    tab. Follow the instructions from\n    [here](https://www.ibm.com/support/knowledgecenter/SSGT7J_20.3/tracing/installation_and_configuration/capability_registration/capability_registration.html).\n\n2.  Setup notification, create provider organization, add catalogs and\n    portal server as API admin.\n\n-   [Manage authentication and\n    security](https://www.ibm.com/support/knowledgecenter/SSMNED_v10/com.ibm.apic.cmc.doc/con_cmc_authentication.html?view=kc) by\n    creating user registries to control access to API Connect\n\n-   [Setup\n    notifications](https://www.ibm.com/support/knowledgecenter/SSMNED_v10/com.ibm.apic.cmc.doc/task_cmc_config_notifications.html)\n    by adding an SMTP server\n\n-   [Create provider\n    organizations](https://www.ibm.com/support/knowledgecenter/SSMNED_v10/com.ibm.apic.cmc.doc/tenant_manage.html?view=kc) to\n    manage teams that develop and manage APIs and related assets\n\nYou have successfully installed and deployed Cloud Pak for Integration\ncapabilities!!\n","type":"Mdx","contentDigest":"687acbd6f453673c92cf179b2ad9d233","counter":1637,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Installing Cloud Pak for Integration using Operators"},"exports":{},"rawBody":"---\ntitle: Installing Cloud Pak for Integration using Operators\n---\n\nThe installation of IBM Cloud Pak for Integration (CP4I) is simplified\nwith Operators support starting from release 2020.2.1. The IBM Cloud Pak\nfor Integration can be installed by adding the IBM Operator Catalog and\nthe IBM Common Services Catalog to your cluster and using the Operator\nLifecycle Manager (OLM) to install the operators. You can then deploy\nthe CP4I capabilities and runtimes using Platform Navigator or Operator\nHub.\n\nThe following instructions apply to CP4I on all supported platforms\nincluding IBM Cloud, AWS, Azure, and on-prem.\n\n<AnchorLinks>\n  <AnchorLink>Prerequisites</AnchorLink>\n  <AnchorLink>OLM Catalog Sources</AnchorLink>\n  <AnchorLink>Install Platform Navigator</AnchorLink>\n  <AnchorLink>Installing Capabilities and Runtimes</AnchorLink>\n  <AnchorLink>Post installation steps</AnchorLink>\n</AnchorLinks>\n\n## Prerequisites \n\n - OpenShift cluster 4.4.9 or higher\n - Administrator access to Openshift console\n - IBM Entitlement Registry Key\n - Minimum 3 worker nodes with 16 cores and 32gb memory, block and file\n    storage access\n - oc command line tool\n\n## OLM Catalog Sources \n\n\\1.  Login to your OpenShift cluster using userid and password or token.\n    You must be a cluster administrator to add CatalogSource objects to\n    a cluster. You can obtain OpenShift\n\n    ![](images/tutorial_html_2e43fe0eb354ddda.png)\n\n    The login command using a token looks like below (your token and cluster\n    address will be different)\n\n```\noc login --token=19P1E8JTTT307A4DpncdR-WNYTCCeTF0OiPFx5UJirw\n--server=https://c104-e.us-east.containers.cloud.ibm.com:30339\n```\n2. Add the IBM Common Services operators to the list of installable\n    operators by running the following command:\n\n```\noc apply -f - << EOF\napiVersion: operators.coreos.com/v1alpha1\nkind: CatalogSource\nmetadata:\n  name: opencloud-operators\n  namespace: openshift-marketplace\nspec:\n  displayName: IBMCS Operators\n  publisher: IBM        \n  sourceType: grpc\n  image: docker.io/ibmcom/ibm-common-service-catalog:latest\n  updateStrategy:\n    registryPoll:\n      interval: 45m\nEOF\n```\n\n3. Add the IBM operators to the list of installable operators by\n    running the following command:\n```\noc apply -f - << EOF\napiVersion: operators.coreos.com/v1alpha1\nkind: CatalogSource\nmetadata:\n  name: ibm-operator-catalog\n  namespace: openshift-marketplace\nspec:\n  displayName: ibm-operator-catalog \n  publisher: IBM Content\n  sourceType: grpc\n  image: docker.io/ibmcom/ibm-operator-catalog\n  updateStrategy:\n    registryPoll:\n      interval: 45m\nEOF\n```\n\n## Install Platform Navigator \n\n\n1. Get your entitlement key from the [Container\n    Library](https://myibm.ibm.com/products-services/containerlibrary)\n\n2. Create a namespace for Platform Navigator\n\n```\noc new-project cp4i\n```\n3.  Create an entitlement secret using the entitlement key from step-1.\n\n```\noc create secret docker-registry ibm-entitlement-key \\\n    --docker-username=cp \\\n    --docker-password=<entitlement-key> \\\n    --docker-server=cp.icr.io \\\n    --namespace=<target namespace>\n```\n\n4.  Deply Platform Navigator using the Red Hat OpenShift web console. Go\n    to OperarorHub and look for Platform Navigator\n\n    ![](images/tutorial_html_f2a37c17b4133251.png)\n\n5.  Select Install to install Platform Navigator.\n\n    ![](images/tutorial_html_a4e2c82e2c70f39c.png)\n\n6.  Add Operator Subscription. The new subscription can be added for a\n    specific namespace or all namespaces. Select cp4i for namesace.\n\n    ![](images/tutorial_html_18e1412b3c9fb509.png)\n\n7.  When you add Platform Navigator, Deployment Lifecycle Manager and\n    Common Services Operators are also installed. Select Platform\n    Navigator to create an instance.\n\n    ![](images/tutorial_html_9ef1a0066bc419c8.png)\n\n8.  Click on Create Platform Navigator to create an instance.\n\n    ![](images/tutorial_html_eceebe3d26810729.png)\n\n9.  Accept license and select Create.\n\n    ![](images/tutorial_html_3eb02207706873.png)\n\n10. When platform navigator and dependent services are successfully\n    installed. You can obtain admin password by running the following\n    command.\n\n```\noc get secrets -n ibm-common-services platform-auth-idp-credentials -ojsonpath='{.data.admin_password}' | base64 --decode && echo \"\" \n```\n\nYou can get the login URI for Platform Navigator using the following\ncommand:\n\n```\noc get route -n cp4i -ojsonpath='{.items[0].spec.host}'\n```\n\n11. Open the URI in a browser and login using admin and \\<password\\>\n    using Default authentication option.\n\n    ![](images/tutorial_html_cf798b43ee903b02.png)\n\n    ![](images/tutorial_html_6118328489008c1e.png)\n\n## Installing Capabilities and Runtimes \n\n1.  Initially when Platform Navigator is installed the Capabilities and\n    Runtimes will be blank. You can add Cloud Pak capabilities and\n    Runtimes using Plaform Navigator or Openshift web console..\n\n    ![](images/tutorial_html_153a9d62568c2653.png)\n\n    Make sure you subscribe to the capabilities from Operator Hub prior to\n    creating instances, otherwise you will see a message similar to below.\n\n    ![](images/tutorial_html_c51e95c4349324e9.png)\n\n2.  Add Operations Dashboard capability\n\n    ![](images/tutorial_html_f109e1ca9a249130.png)\n\n    ![](images/tutorial_html_f1cd021813a91d85.png)\n\n    ![](images/tutorial_html_ce63597305b72024.png)\n\n    ![](images/tutorial_html_1718e538fab19667.png)\n\n    ![](images/tutorial_html_479612f9fcbd9dd5.png)\n\n3.  Add Asset Repository capability\n\n    ![](images/tutorial_html_ba86ece4ad72a9eb.png)\n\n    ![](images/tutorial_html_79ed45052e2dfb4.png)\n\n    ![](images/tutorial_html_addfbe7477948a6d.png)\n\n4.  Add App Connect Dashboard capability\n\n    ![](images/tutorial_html_df6dd892fe99414e.png)\n\n    ![](images/tutorial_html_4c1641cf21c45572.png)\n\n    ![](images/tutorial_html_b9bdf47f775de865.png)\n\n5.  Add AppConnect Designer capability\n\n    ![](images/tutorial_html_6aae3b3402ea6f61.png)\n\n    ![](images/tutorial_html_b1d3acd907b6c25d.png)\n\n    ![](images/tutorial_html_c0905665a46852b.png)\n\n    ![](images/tutorial_html_2f05450267c40128.png)\n\n6.  Add API Connect capability\n\n    ![](images/tutorial_html_d3ed2953a5a9e5f4.png)\n\n    ![](images/tutorial_html_1abfe6c4d96ed38e.png)\n\n    ![](images/tutorial_html_f86a9f552f66f16d.png)\n\n7.  Select Runtimes tab and add EventStreams runtime by selecting Kafka\n    cluster\n\n    ![](images/tutorial_html_93c4b6177464a875.png)\n\n    ![](images/tutorial_html_7e5bf6329a90c763.png)\n\n8.  Add an MQ Queue Manager runtime. Select Availability type, Tracing,\n    Persistence as needed. Choose default values for quick installation.\n\n    ![](images/tutorial_html_a69ebb8a2537f6fe.png)\n\n    ![](images/tutorial_html_5b4663c2a4c790cf.png)\n\n    ![](images/tutorial_html_73ab4241512c55da.png)\n\n9.  Add highspeed file transfer capability\n\n    ![](images/tutorial_html_d96ef3586f62d582.png)\n\n    ![](images/tutorial_html_b93e5b10339b08f0.png)\n\n    ![](images/tutorial_html_487ac9f78f0b0632.png)\n\n    ![](images/tutorial_html_aa7f7f5268a287f5.png)\n\n10. When all the capabilities and runtimes are installed, the Cloud Pak\n    web console menu displays the instances (the name of you instances\n    may be different from what is shown here).\n\n    ![](images/tutorial_html_2a4b49c2cfb34f50.png)\n\n## Post installation steps \n\n\nThe following additional steps are needed after deploying all the\ncapabilities.\n\n1.  If you enabled Tracing capabilities for API Connect and MQ,\n    capabilities must be registered from Operations Dashbard Setting\n    tab. Follow the instructions from\n    [here](https://www.ibm.com/support/knowledgecenter/SSGT7J_20.3/tracing/installation_and_configuration/capability_registration/capability_registration.html).\n\n2.  Setup notification, create provider organization, add catalogs and\n    portal server as API admin.\n\n-   [Manage authentication and\n    security](https://www.ibm.com/support/knowledgecenter/SSMNED_v10/com.ibm.apic.cmc.doc/con_cmc_authentication.html?view=kc) by\n    creating user registries to control access to API Connect\n\n-   [Setup\n    notifications](https://www.ibm.com/support/knowledgecenter/SSMNED_v10/com.ibm.apic.cmc.doc/task_cmc_config_notifications.html)\n    by adding an SMTP server\n\n-   [Create provider\n    organizations](https://www.ibm.com/support/knowledgecenter/SSMNED_v10/com.ibm.apic.cmc.doc/tenant_manage.html?view=kc) to\n    manage teams that develop and manage APIs and related assets\n\nYou have successfully installed and deployed Cloud Pak for Integration\ncapabilities!!\n","fileAbsolutePath":"/Users/rosorio@br.ibm.com/Documents/GitHub/cp4i-demohub/src/pages/cp4i-install/index.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}